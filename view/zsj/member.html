<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<div id="app2">
			<el-page-header @back="goBack" content="会员页面">
			</el-page-header>
			<br />
			<br />
			<el-row>
				<el-col :md="5" :push="8">
					<el-input>
						<template slot="prepend">会员卡号</template>
					</el-input>
				</el-col>
				<el-col :md="2" :push="9">
					<el-button type="success">搜索</el-button>
				</el-col>
				<el-col :md="2" :push="15">
					<el-button type="info" @click="dialogTableVisible = true">新增会员</el-button>
				</el-col>
			</el-row>
			<br />
			<el-row>
				<el-dialog title="成为会员" :visible.sync="dialogTableVisible">
					<el-row>
						<el-col :md="9" :push="5">
							<el-input>
								<template slot="prepend">客户编号</template>
							</el-input>
						</el-col>
						<el-col :md="2" :push="6">
							<el-button type="success">搜索</el-button>
						</el-col>
					</el-row>
					<br />
					<el-row>
						<template>
							<el-table :data="tableData" height="250" border style="width: 100%">
								<el-table-column prop="date" label="客户编号" width="180">
								</el-table-column>
								<el-table-column prop="name" label="客户姓名" width="180">
								</el-table-column>
								<el-table-column prop="address" label="客户等级">
								</el-table-column>
								<el-table-column label="操作">
									<template slot-scope="scope">
										<el-button type="success" @click="dialogVisible=true">成为会员</el-button>
									</template>
								</el-table-column>
							</el-table>
						</template>
					</el-row>
				</el-dialog>
			</el-row>
			<el-row>
				<el-dialog title="会员设置" :visible.sync="dialogVisible" width="30%" :before-close="handleClose">
					<el-row>
						<el-input>
							<template slot="prepend">会员卡号</template>
						</el-input>
					</el-row>
					<br />
					<el-row>
						<el-input>
							<template slot="prepend">会员密码</template>
						</el-input>
					</el-row>
					<span slot="footer" class="dialog-footer">
    					<el-button @click="dialogVisible = false">取 消</el-button>
    					<el-button type="primary" @click="dialogVisible = false">确 定</el-button>
  					</span>
				</el-dialog>
			</el-row>
			<el-row>
				<template>
					<el-col :md="15" :push="5">
						<el-table :data="tableData" style="width: 100%">
							<el-table-column label="序号" width="180">
								<template slot-scope="scope">
									<span style="margin-left: 10px">{{ scope.$index+1 }}</span>
								</template>
							</el-table-column>
							<el-table-column label="客户名" width="180">
								<template slot-scope="scope">
									<el-popover trigger="hover" placement="top">
										<p>会员密码: {{ scope.row.name }}</p>
										<p>会员余额: {{ scope.row.address }}</p>
										<div slot="reference" class="name-wrapper">
											<el-tag size="medium">{{ scope.row.name }}</el-tag>
										</div>
									</el-popover>
								</template>
							</el-table-column>
							<el-table-column label="会员卡号" width="180">
								<template slot-scope="scope">
									<span style="margin-left: 10px">{{ scope.$index+1 }}</span>
								</template>
							</el-table-column>
							<el-table-column label="操作">
								<template slot-scope="scope">
									<el-button size="mini" type="success" @click="handleEdit(scope.$index, scope.row)">充值</el-button>
									<el-button size="mini" type="danger" @click="handleDelete(scope.$index, scope.row)">删除</el-button>
								</template>
							</el-table-column>
						</el-table>
					</el-col>
				</template>
			</el-row>
			<br />
		</div>
	</body>
	
	<script>
		var app2 = new Vue({
			el: "#app2",
			data: {
				dialogVisible: false,
				dialogTableVisible: false,
				tableData: [{
					date: '2016-05-02',
					name: '王小虎',
					address: '上海市普陀区金沙江路 1518 弄'
				}, {
					date: '2016-05-04',
					name: '王小虎',
					address: '上海市普陀区金沙江路 1517 弄'
				}, {
					date: '2016-05-01',
					name: '王小虎',
					address: '上海市普陀区金沙江路 1519 弄'
				}, {
					date: '2016-05-03',
					name: '王小虎',
					address: '上海市普陀区金沙江路 1516 弄'
				}]
			},
			methods: {
				goBack() {},
					handleEdit(index, row) {
						this.$prompt('请输入充值金额', '用户1充值', {
							confirmButtonText: '确定',
							cancelButtonText: '取消'
						}).then(({
							value
						}) => {
							this.$message({
								type: 'success',
								message: '你的邮箱是: ' + value
							});
						}).catch(() => {
							this.$message({
								type: 'info',
								message: '取消输入'
							});
						});
					},
					handleDelete(index, row) {
						console.log(index, row);
					},
					handleClose(done) {
						this.$confirm('确认关闭？')
							.then(_ => {
								done();
							})
							.catch(_ => {});
					}
			}
		})
	</script>

</html>