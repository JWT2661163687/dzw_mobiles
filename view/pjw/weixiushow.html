<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>维修项目</title>
		<link rel="stylesheet" href="css/index.css" />
	</head>

	<body>
		<h2>维修项目</h2>
		<div id="weixiushowapp">
		
		<el-row>
			
		<el-col :span="4"  style="border: 1px black solid;">
			<div  style="border-bottom: 1px black solid; background-color: lightcyan;line-height: 80px;">
					<span style="font-size: larger;">维修类型</span>
			</div>
			<el-tree :data="data" :props="defaultProps" @node-click="handleNodeClick"></el-tree>
		</el-col>
		<el-col :span="19" :push="1" style="border: 1px black solid;">
			<div  style="border-bottom: 1px black solid; background-color: lightcyan;line-height: 80px;">
				<span style="font-size: larger;">维修项目</span>
			</div>
			</br>
			<el-row>
				<el-col :span="3">
					<el-input v-model="neirong" placeholder="请输入内容" style="width: 200px;"></el-input>
				</el-col>
				<el-col :span="2" :push="3">
					<el-button icon="el-icon-search" circle></el-button>
				</el-col>
				<el-col :span="2" :push="3">
					<el-button type="button" @click="dialogFormVisible = true">新增</el-button>
				</el-col>			
							<el-dialog title="项目新增" :visible.sync="dialogFormVisible">
								<el-form :model="form">
									<el-form-item label="车子类型" :label-width="formLabelWidth">
										<el-input v-model="form.leixing" autocomplete="off"></el-input>
									</el-form-item>
									<el-form-item label="项目编号" :label-width="formLabelWidth">
										<el-input v-model="form.bianhao" autocomplete="off"></el-input>
									</el-form-item>
									<el-form-item label="项目名称" :label-width="formLabelWidth">
										<el-input v-model="form.mingcheng" autocomplete="off"></el-input>
									</el-form-item>
									<el-form-item label="收入种类" :label-width="formLabelWidth">
										<el-select v-model="form.zhonglei" placeholder="请选择收入种类">
											<el-option label="现金" value="shanghai"></el-option>
											<el-option label="微信" value="beijing"></el-option>
										</el-select>
									</el-form-item>
									<el-form-item label="标准价" :label-width="formLabelWidth">
										<el-input v-model="form.biaozhun" autocomplete="off"></el-input>
									</el-form-item>
									<el-form-item label="会员价" :label-width="formLabelWidth">
										<el-input v-model="form.huiyuan" autocomplete="off"></el-input>
									</el-form-item>
									<el-form-item label="售价" :label-width="formLabelWidth">
										<el-input v-model="form.shoujia" autocomplete="off"></el-input>
									</el-form-item>
								</el-form>
								<div slot="footer" class="dialog-footer">
									<el-button type="primary" @click="dialogFormVisible = false">新增</el-button>
									<el-button @click="dialogFormVisible = false">关闭</el-button>
								</div>
							</el-dialog>
							
				<el-col :span="2" :push="3">
					<el-button>保存</el-button>
				</el-col>
				<el-col :span="2" :push="3">
					<el-button>导出</el-button>
				</el-col>
				<el-col :span="2" :push="3">	
					<el-button>关闭</el-button>
				</el-col>	
			</el-row></br>
			
					<template>
							<el-table :data="tableData" border show-summary style="width: 100%">
								<!--<el-table-column prop="id" label="序号" width="100">
								</el-table-column>-->
								<el-table-column prop="leixing" label="车子类型">
								</el-table-column>
								<el-table-column prop="name" label="项目编号">
								</el-table-column>
								<el-table-column prop="mingcheng" label="项目名称">
								</el-table-column>
								<el-table-column prop="zhonglei" label="收入种类">
								</el-table-column>
								<el-table-column prop="biaozhun" label="标准价">
								</el-table-column>
								<el-table-column prop="huiyuan" label="会员价">
								</el-table-column>
								</el-table-column>
								<el-table-column prop="shoujia" label="售价">
								</el-table-column>
								<el-table-column prop="xiugai" label="修改">
									<template slot-scope="scope">
       									<i class="el-icon-edit"></i>
     								 </template>
								</el-table-column>
								<el-table-column prop="shanchu" label="删除">
									<template slot-scope="scope">
       									<i class="el-icon-delete"></i>
     								 </template>
								</el-table-column>
							</el-table>
						</template>
			
			<el-pagination class="el-col-push-5"
			  background
			  layout="prev, pager, next"
			  :total="1000">
			</el-pagination>
		</el-col>
		</el-row>
		
		</div>
	</body>

	
	<script>
		new Vue({
			el:"#weixiushowapp",
			data:{
				neirong:'',
				data: [{
	          label: '一级 1',
	          children: [{
	            label: '二级 1-1',
	            children: [{
	              label: '三级 1-1-1'
	            }]
	          }]
	        }, {
	          label: '一级 2',
	          children: [{
	            label: '二级 2-1',
	            children: [{
	              label: '三级 2-1-1'
	            }]
	          }, {
	            label: '二级 2-2',
	            children: [{
	              label: '三级 2-2-1'
	            }]
	          }]
	        }, {
	          label: '一级 3',
	          children: [{
	            label: '二级 3-1',
	            children: [{
	              label: '三级 3-1-1'
	            }]
	          }, {
	            label: '二级 3-2',
	            children: [{
	              label: '三级 3-2-1'
	            }]
	          }]
	        }],
	        defaultProps: {
	          children: 'children',
	          label: 'label'
	        },
	        //新增模态框
				form: {
					leixing:'',
					bianhao: '',
					mingcheng: '',
					zhonglei: '',
					biaozhun: '',
					huiyuan: '',
					shoujia: '',
				},
				formLabelWidth: '120px',
				dialogFormVisible: false,
				//表格填数据
				 tableData: []
				 /*, {
			           id: '12987122',
			            leixing:'上汽',
			          name: '王小虎',
			          mingcheng: '234',
			          zhonglei: '3.2',
			          biaozhun: 10,
			          huiyuan:'微信',
			          shoujia:'车型'
			        }*/
			},
			 methods: {
	      handleNodeClick(data) { 
	        console.log(data);
	      },
	      pageinfo(page1,page2,cid){
	      	let _this=this;
	      	axios.get(`http://127.0.0.1:8080/dzw_moblie/api/weixiu/aa/${page1}/${page2}/${cid}`).then(function(resp) {
							console.log("dkdkl"+resp.data);
							_this.tableData = resp.data;
					})
	      		}
	   		},
	   		mounted(){
	   			var page1=parseInt(1);
	      	    var page2=parseInt(2);
	      	    var cid=parseInt(1);
	   			this.pageinfo(1,2,1);
	   		}
		})
	</script>

</html>